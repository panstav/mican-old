.modal.suggestionsList(
modal-sizer, stop-propagation
ng-controller="suggestionsListCtrl as sgstListCtrl"
)

	header
		h2 {{ sgstListCtrl.numberOfSuggestions() }} לשינוי בסעיף

		.fa.fa-close(ng-click="modal.reset()")

	main

		edit-suggestion(
		ng-repeat="suggestion in sgstListCtrl.suggestions | orderBy: '-craetedAt'"
		value="suggestion"
		voting="buttons"
		)

		.form.add-suggestion(
		ng-form="addSuggestionForm"
		ng-class="sgstListCtrl.showValidation ? 'showValidation' : ''"
		)

			h3 הוסף הצעת שינוי משלך

			a(
			ng-click="sgstListCtrl.extraDetails = 'original'"
			ng-class="sgstListCtrl.extraDetails === 'original' ? 'active' : ''"
			) הגרסה המקורית

			span(ng-show="sgstListCtrl.newChanges.length || sgstListCtrl.loadingDelta")
				|&nbsp;|&nbsp;

			a(
			ng-show="sgstListCtrl.newChanges.length"
			ng-click="sgstListCtrl.extraDetails = 'delta'"
			ng-class="sgstListCtrl.extraDetails === 'delta' ? 'active' : ''"
			) השינויים שביצעת

			loader(ng-show="sgstListCtrl.loadingDelta")

			p.changes(ng-show="sgstListCtrl.extraDetails === 'original'") {{ sgstListCtrl.paraData.content }}

			p.changes(ng-show="sgstListCtrl.extraDetails === 'delta'")
				span(
				ng-repeat="change in sgstListCtrl.newChanges | orderBy: '+index'"
				ng-class="change.state + (change.content.length && !change.content.trim().length ? ' space' : '')"
				) {{ change.content }}

			textarea.verbose(
			ng-model="sgstListCtrl.newPara.content"
			ng-change="sgstListCtrl.updateDelta()"
			)

	footer
		span.validation(ng-show="sgstListCtrl.showValidation") שימו לב לשדות שלא מולאו כשורה.
		button.submit.silent(ng-click="sgstListCtrl.send(newGroupSuggestionForm.$valid)") {{ modal.prompts.sendForm }}



